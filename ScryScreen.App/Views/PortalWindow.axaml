<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:ScryScreen.App.ViewModels"
        mc:Ignorable="d"
        x:Class="ScryScreen.App.Views.PortalWindow"
        x:DataType="vm:PortalWindowViewModel"
        Title="ScryPortal"
        Background="Black"
        Topmost="False"
        ShowActivated="False"
        SystemDecorations="None"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        WindowStartupLocation="Manual">

  <Border Background="Black">
    <!-- All portal output (hidden => true blackout) -->
    <Grid IsVisible="{Binding IsContentVisible}">
      <!-- Assigned image (after setup) -->
      <Border x:Name="ImageHost"
          IsVisible="{Binding IsShowingImage}"
          Background="Black"
          ClipToBounds="True">
        <Image x:Name="ContentImage"
           Source="{Binding ContentImage}"
         Stretch="Uniform"
         HorizontalAlignment="Center"
         VerticalAlignment="Center" />
      </Border>

      <!-- Assigned text (after setup, when no image) -->
      <TextBlock
        IsVisible="{Binding IsShowingText}"
        Text="{Binding ContentTitle}"
        Foreground="#E8D9B6"
        FontSize="48"
        FontWeight="SemiBold"
        TextAlignment="Center"
        HorizontalAlignment="Center"
        VerticalAlignment="Center" />

      <!-- Setup mode: persistent until first assignment -->
      <Image IsVisible="{Binding IsSetup}"
             Source="avares://ScryScreen.App/Assets/Images/scry_logo_black.png"
             Stretch="Uniform"
              MaxHeight="520"
             HorizontalAlignment="Center"
             VerticalAlignment="Center" />

      <!-- Identify overlay -->
      <Border IsVisible="{Binding IsIdentifyOverlayVisible}"
              Background="#AA000000">
        <TextBlock Text="{Binding PortalNumber}"
                   Foreground="White"
                   FontSize="220"
                   FontWeight="Black"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center" />
      </Border>
    </Grid>
  </Border>
</Window>
